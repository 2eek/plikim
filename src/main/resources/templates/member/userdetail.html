<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <title>정보</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
  <link rel="stylesheet" type="text/css" href="/css/chatStyle.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
  <link rel="stylesheet" type="text/css" href="/css/userDetailStyle.css">
  <style>
    .centered {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
  </style>
</head>

<body>
  <input type="hidden" id="loggedInUserId" name="loggedInUserId" th:value="${userSession.username}" />

  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top" th:replace="fragments/common :: menu('home')">
  </nav>

  <div class="container mt-4 mb-4 p-3 d-flex justify-content-center">
    <div class="card p-4 centered">
      <div class="image d-flex flex-column justify-content-center align-items-center">
        <button class="btn btn-secondary">
          <img src="https://i.imgur.com/wvxPV9S.png" height="100" width="100" />
        </button>
        <span class="name mt-3" th:text="${user.userId}">Eleanor Pena</span>
        <span class="idd" th:text="${user.userName}">@eleanorpena</span>
        <div class="d-flex flex-row justify-content-center align-items-center gap-2">
          <span class="idd1">Oxc4c16a645_b21a</span>
          <span><i class="fa fa-copy"></i></span>
        </div>
        <div class="d-flex flex-row justify-content-center align-items-center mt-3">
          <span class="number">1069 <span class="follow">Followers</span></span>
        </div>
        <div class="d-flex mt-2">
          <button class="btn1 btn-dark" id="user-id-button" th:attr="data-user-id=${user.userId}">대화하기</button>
        </div>
        <div class="text mt-3">
          <span>Eleanor Pena is a creator of minimalistic x bold graphics and digital artwork.<br><br> Artist/ Creative Director by Day #NFT minting@ with FND night.</span>
        </div>
        <div class="gap-3 mt-3 icons d-flex flex-row justify-content-center align-items-center">
          <span><i class="fa fa-twitter"></i></span>
          <span><i class="fa fa-facebook-f"></i></span>
          <span><i class="fa fa-instagram"></i></span>
          <span><i class="fa fa-linkedin"></i></span>
        </div>
        <div class="px-2 rounded mt-4 date">
          <span class="join">Joined May, 2021</span>
        </div>
      </div>
    </div>
  </div>
</body>

<script type="text/javascript">
  document.addEventListener('DOMContentLoaded', function() {
    var userButton = document.getElementById('user-id-button');
    var userId = userButton.getAttribute('data-user-id');
    userButton.addEventListener('click', function() {
      var sender = document.getElementById('loggedInUserId').value;
      var url = '/chat?userId=' + userId; // 상대방(디테일 정보의 주체) 사용자 ID를 쿼리 매개변수로 추가
      location.href = url; // /chat로 이동
    });
  });
</script>


</html>
